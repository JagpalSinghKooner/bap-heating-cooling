---
/**
 * ServiceValueProps - Display service-specific USPs
 *
 * Renders value propositions from service data in a 2x2 grid.
 * H2 is SEO-optimized with actual service keyword.
 */

import Section from '../primitives/Section.astro';
import SectionHeader from '../primitives/SectionHeader.astro';
import { getIconPath } from '../../lib/icons';

interface ValueProp {
  title: string;
  description: string;
  icon: string;
}

interface Props {
  serviceTitle: string;
  valueProps?: ValueProp[];
  location?: {
    title: string;
  };
}

const { serviceTitle, valueProps, location } = Astro.props;

// Generate SEO-optimized H2 with service keyword
const h2Text = location
  ? `Why Choose B.A.P for ${serviceTitle} in ${location.title}`
  : `Why Choose B.A.P for ${serviceTitle}`;
---

{valueProps && valueProps.length > 0 && (
  <Section variant="default">
    {/* SEO-Optimized Header */}
    <SectionHeader
      eyebrow="Our Promise"
      headline={h2Text}
      description="Every job comes with our commitment to quality, transparency, and your complete satisfaction."
    />

    {/* Value Props Grid - 2x2 on desktop, stacked on mobile */}
    <div class="grid gap-4 sm:grid-cols-2">
      {valueProps.map((prop) => (
        <div class="flex gap-4 rounded-xl border border-border bg-background p-5 transition-shadow hover:shadow-md">
          <div class="flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-lg bg-primary/10 text-primary">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <Fragment set:html={getIconPath(prop.icon)} />
            </svg>
          </div>
          <div>
            <h3 class="mb-1 font-bold text-foreground">{prop.title}</h3>
            <p class="text-sm text-muted-foreground">{prop.description}</p>
          </div>
        </div>
      ))}
    </div>
  </Section>
)}
