---
/**
 * Service Intent Band
 * Single highlighted service CTA - reinforces service intent after category browse
 * Dynamically rotates featured service (currently: Emergency Heating)
 */

import { getBusinessProfile } from '../../lib/getBusinessProfile';

const profile = await getBusinessProfile();

// Featured service (can be rotated/randomized)
const featuredService = {
  category: 'Heating',
  title: 'Emergency Heating Repair',
  description: 'Furnace broken? We offer 24/7 emergency heating repair with same-day service',
  href: '/services/heating/',
  urgent: true,
};
---

<section class="border-y border-brand-orange/20 bg-gradient-to-r from-brand-orange/5 to-brand-orange/10 py-8 sm:py-10">
  <div class="section-container">
    <div class="mx-auto max-w-4xl">
      <div class="flex flex-col items-center gap-6 text-center sm:flex-row sm:text-left lg:gap-8">
        {/* Content */}
        <div class="flex-1">
          {/* Badge */}
          {featuredService.urgent && (
            <div class="mb-3 inline-flex items-center gap-2 rounded-full bg-brand-orange/10 px-3 py-1 text-xs font-semibold text-brand-orange">
              <span aria-hidden="true">ðŸ”¥</span>
              <span>Emergency Service Available</span>
            </div>
          )}

          {/* Title */}
          <h3 class="mb-2 text-2xl font-bold text-foreground sm:text-3xl">
            {featuredService.title}
          </h3>

          {/* Description */}
          <p class="text-base text-muted-foreground sm:text-lg">
            {featuredService.description}
          </p>
        </div>

        {/* CTA */}
        <div class="flex-shrink-0">
          <a
            href={featuredService.href}
            class="inline-flex items-center justify-center gap-2 rounded-md bg-brand-orange px-6 py-3 text-base font-bold text-white shadow-md transition-all hover:bg-brand-orange-dark hover:shadow-lg sm:px-8 sm:py-4 sm:text-lg"
            data-cta-context="service-intent-band"
          >
            <span>Learn More</span>
            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
